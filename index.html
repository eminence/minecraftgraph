<html>
  <head>
    <title>Step Chart</title>
    <link type="text/css" rel="stylesheet" href="ex.css?3.2"/>
    <script type="text/javascript" src="https://andrewchin.net/vis/protovis-3.2/protovis-r3.2.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.5.min.js"></script>
    <script type="text/javascript" src="data.js"></script>
    <script type="text/javascript" src="data2.js"></script>
    <style type="text/css">

        td {
            vertical-align: top;
        }

    </style>
  </head>
  <body>
      <table><tr><td>
          
      <div style="width: 100%; background:#eee;">
          Mineral: <select onchange="selectMineral(this)">
                <option value="0">0: Air</option>
                <option value="1">1: Stone</option>
                <option value="2" selected="true">2: Grass</option>
                <option value="3">3: Dirt</option>
                <option value="4">4: Cobblestone</option>
                <option value="5">5: Wooden Plank</option>
                <option value="6">6: Sapling</option>
                <option value="7">7: Bedrock</option>
                <option value="8">8: Water</option>
                <option value="9">9: Stationary water</option>
                <option value="10">10: Lava</option>
                <option value="11">11: Stationary lava</option>
                <option value="12">12: Sand</option>
                <option value="13">13: Gravel</option>
                <option value="14">14: Gold ore</option>
                <option value="15">15: Iron ore</option>
                <option value="16">16: Coal ore</option>
                <option value="17">17: Wood</option>
                <option value="18">18: Leaves</option>
                <option value="19">19: Sponge</option>
                <option value="20">10: Glass</option>
                <option value="21">21: Lapis Lazuli Ore</option>
                <option value="22">22: Lapis Lazuli Block</option>
                <option value="23">23: Dispenser</option>
                <option value="24">24: Sandstone</option>
                <option value="25">25: Note Block</option>
                <option value="35">35: 35: Wool</option>
                <option value="37">37: Yellow flower</option>
                <option value="38">38: Red rose</option>
                <option value="39">39: Brown Mushroom</option>
                <option value="40">40: Red Mushroom</option>
                <option value="41">41: Gold Block</option>
                <option value="42">42: Iron Block</option>
                <option value="43">43: Double Stone Slab</option>
                <option value="44">44: Stone Slab</option>
                <option value="45">45: Brick Block</option>
                <option value="46">46: TNT</option>
                <option value="47">47: Bookshelf</option>
                <option value="48">48: Moss Stone</option>
                <option value="49">49: Obsidian</option>
                <option value="50">50: Torch</option>
                <option value="51">51: Fire</option>
                <option value="52">52: Monster Spawner</option>
                <option value="53">53: Wooden Stairs</option>
                <option value="54">54: Chest</option>
                <option value="55">55: Redstone Wire</option>
                <option value="56">56: Diamond Ore</option>
                <option value="57">57: Diamond Block</option>
                <option value="58">58: Workbench</option>
                <option value="59">59: Crops</option>
                <option value="60">60: Farmland</option>
                <option value="61">61: Furnace</option>
                <option value="62">62: Burning Furnace</option>
                <option value="63">63: 63: Sign Post</option>
                <option value="64">64: Wooden Door</option>
                <option value="65">65: Ladder</option>
                <option value="66">66: Minecart Tracks</option>
                <option value="67">67: Cobblestone Stairs</option>
                <option value="68">68: Wall Sign</option>
                <option value="69">69: Lever</option>
                <option value="70">70: Stone Pressure Plate</option>
                <option value="71">71: Iron Door</option>
                <option value="72">72: Wooden Pressure Plate</option>
                <option value="73">73: Redstone Ore</option>
                <option value="74">74: Glowing Redstone Ore</option>
                <option value="75">75: Redstone torch ("off" state)</option>
                <option value="76">76: Redstone torch ("on" state)</option>
                <option value="77">77: Stone Button</option>
                <option value="78">78: Snow</option>
                <option value="79">79: Ice</option>
                <option value="80">80: Snow Block</option>
                <option value="81">81: Cactus</option>
                <option value="82">82: Clay</option>
                <option value="83">83: Sugar Cane</option>
                <option value="84">84: Jukebox</option>
                <option value="85">85: Fence</option>
                <option value="86">86: 86: Pumpkin</option>
                <option value="87">87: Netherrack</option>
                <option value="88">88: Soul Sand</option>
                <option value="89">89: Glowstone</option>
                <option value="90">90: Portal</option>
                <option value="91">91: Jack-O-Lantern</option>
                <option value="92">92: Cake Block</option>
          </select>
      </div>
          <div id="fig1" >
    <script type="text/javascript+protovis">

var curGraph = 2;
var data = rawdata[curGraph];

/* Sizing and scales. */
var w = document.body.clientWidth - 500,
    h = 400,
    x = pv.Scale.linear(0, 128).range(0, w),
    y = pv.Scale.linear(0, pv.max(data)).range(0, h);

/* The root panel. */
var vis = new pv.Panel()
    .width(w)
    .height(h)
    .bottom(20)
    .left(50)
    .right(10)
    .top(5);

/* X-axis ticks. */
var xaxis = vis.add(pv.Rule)
    .data(x.ticks())
    .visible(function(d) d > 0)
    .left(x)
    .strokeStyle("#eee")
  .add(pv.Rule)
    .bottom(-5)
    .height(5)
    .strokeStyle("#000")
  .anchor("bottom").add(pv.Label)
    .text(x.tickFormat);

/* Y-axis ticks. */
var yaxis = vis.add(pv.Rule)
    .data(y.ticks(5))
    .bottom(y)
    .strokeStyle(function(d) d ? "#eee" : "#000");
var yaxisL = yaxis.anchor("left").add(pv.Label)
    .text(y.tickFormat);

/* The line. */
var l = vis.add(pv.Line)
    .data(data)
    .interpolate("basis")
    .left(function(d) x(this.index))
    .bottom(function(d) y(d))
    .lineWidth(3);

vis.render();

function selectMineral(e) {
    switchGraph(parseInt(e.value));
}

function switchGraph(x) {
    if (x < 0) x = curGraph;
    w = document.body.clientWidth - 500;
    vis.width(w);
    data = rawdata[x];
    y = pv.Scale.linear(0, pv.max(data)).range(0, h);
    x = pv.Scale.linear(0, 128).range(0, w);
    yaxis.data(y.ticks(5));
    yaxis.bottom(y);
    yaxisL.text(y.tickFormat);
    xaxis.left(x);
    xaxis.data(x.ticks());
    l.data(data);
    l.left(function(d) x(this.index))
    vis.render();
    //curGraph = x;
}

jQuery(window).resize(function() {
    switchGraph(-1);
        });

    </script>
  </div>
  </td><td>
      <div style="width: 100%; background:#eee;">
          Level: <select>
          
          </select>


      </div>

  <div id="fig2">
      <script type="text/javascript+protovis">

          /* Sizing and scales. */
      var data2 = leveldata[62];
      var w2 = 400,
      h2 = 400,
      r = w2 / 2,
      a = pv.Scale.linear(0, pv.sum(data2, function (d) d.count)).range(0, 2 * Math.PI);

/* The root panel. */
    var vis2 = new pv.Panel()
.width(w2)
    .height(h2);

    /* The wedge, with centered label. */
    vis2.add(pv.Wedge)
    .data(data2)
    .bottom(w2 / 2)
    .left(w2 / 2)
    .innerRadius(r - 40)
    .outerRadius(r)
.angle(function(d) a(d.count))
    .event("mouseover", function() this.innerRadius(0))
    .event("mouseout", function() this.innerRadius(r - 40))
    .anchor("center").add(pv.Label)
    .visible(function(d) a(d.count) > 0.1)
.textAngle(0)
    .text(function(d) d.blockType);

    vis2.render();

    </script>

  </div>

  </tr>
  
  </table></body>
</html>
